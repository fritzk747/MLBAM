# MLBAM
Parses MLB play-by-play data provided by MLB Advanced Media (MLBMAM). The program is written in Java and designed to work with Microsoft SQL Server. There are 3 java files, MLBAM.java (drives the program, handles the logic for parsing XML files, creating CSV's), Downloader.java (deals with downloading XML files from web), and SendDataToSQL.java (handles interactions between Java program and SQL). There are 5 text files to create the necessary tables in SQL. These files need to be in a folder called "SQL" which needs to be in the same folder that the class files are. The program will create two additional folders "TXT" and "XML", with subfolders for each day. In order for the program to work correctly, wget.exe will need to be in the same folder as the class files are. Also, the necessary jar file to allow Java to connect with SQL will need to be added to the classpath (for example, sqljdbc4.jar that is uploaded)

As a default, the program has a user named "user", with password of "password". The default database is "MLBAM". This information can be changed in MLBAM.java. In order for the program to work, the SQL user will need to have access to the database used and be given permission to perform bulk uploads.

The idea for this project is to each day automatically grab play-by-play data (provided by MLBAM) for all MLB games from the previous day, parse the XML files, and send this data to SQL. For example, a scheduled task could be created to run once per day, execeuting a bat file which would run the program. XML files from MLBAM are retrieved using Wget. First master_scoreboard.xml is retrieved for the previous day in order to determine the game IDs and links for all of the previous days games. Then 5 XML files are downloaded per game. Each XML file is parsed and the extracted information is stored in 4 text files (CSV's). These text files are then sent to SQL using the bulk insert command. The table gamesInserted keeps track of which days games have already been inserted into SQL, this way a days games are not uploaded to SQL more than once.
